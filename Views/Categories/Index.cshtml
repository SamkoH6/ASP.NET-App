@using WebApplication1.Models
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model List<Category>

@section title {
    <h1 class="text-purple-500">Categories</h1>
}
@if (Model != null && Model.Count() > 0)
{
    <div class="relative h-auto">
        <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
            <thead class="text-xs text-gray-700 uppercase bg-white-50 dark:bg-gray-700 dark:text-gray-400">
            <tr>
                <th scope="col" class="px-6 py-3">Name</th>
                <th scope="col" class="px-6 py-3">Description</th>
                <th scope="col" class="px-6 py-3"></th>
                <th scope="col" class="px-6 py-3"></th>
            </tr>
            </thead>
            <tbody>
            @foreach (var category in Model)
            {
                <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
                    <td class="px-6 py-4">@category.Name</td>
                    <td class="px-6 py-4">@category.Description</td>
                    <td>
                        <a asp-controller="Categories" asp-action="Edit" asp-route-id="@category.CategoryId" class="text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700">
                            Edit
                        </a >
                    </td>
                    <td><a asp-controller="Categories" asp-action="Delete" asp-route-categoryId="@category.CategoryId" onclick="confirmDelete()" class="text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700">Delete</a></td>
                </tr>
            }
            </tbody>
        </table>
        <br/>
        <a asp-controller="Categories" asp-action="Add" class="text-white bg-gray-800 hover:bg-gray-900 focus:outline-none focus:ring-4 focus:ring-gray-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:hover:bg-gray-700 dark:focus:ring-gray-700 dark:border-gray-700">
            Add
        </a>
    </div>
}

@section Scripts{
    <script>
        function confirmDelete(){
            return confirm("Are you sure you want to delete this category?");
        }
    </script>
}